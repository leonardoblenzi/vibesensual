<!-- views/layouts/admin.ejs -->
<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title><%= title || "Admin • VibeSensual" %></title>

  <link rel="stylesheet" href="/css/app.css" />
</head>

<body>
  <!-- TOPBAR -->
  <header class="topbar">
    <div class="topbar__left">
      <a class="brand" href="/admin/dashboard" aria-label="VibeSensual Admin">
        <span class="brand__dot"></span>
        <span class="brand__name">VibeSensual</span>
        <span class="brand__badge">Admin</span>
      </a>
    </div>

    <div class="topbar__right">
      <div class="chip chip--muted"><%= envLabel || "Render • Postgres" %></div>

      <% if (typeof topbarActions !== "undefined") { %>
        <%- topbarActions %>
      <% } %>

      <form action="/admin/logout" method="post" class="inline">
        <button class="btn btn--danger" type="submit">Sair</button>
      </form>
    </div>
  </header>

  <div class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <nav class="nav">
        <a class="nav__item <%= active === 'dashboard' ? 'nav__item--active' : '' %>" href="/admin/dashboard">Dashboard</a>
        <a class="nav__item <%= active === 'catalogo' ? 'nav__item--active' : '' %>" href="/admin/catalogo">Catálogo</a>
        <a class="nav__item <%= active === 'produtos' ? 'nav__item--active' : '' %>" href="/admin/produtos">Produtos</a>
        <a class="nav__item <%= active === 'estoque' ? 'nav__item--active' : '' %>" href="/admin/estoque">Estoque</a>
        <a class="nav__item <%= active === 'vendas' ? 'nav__item--active' : '' %>" href="/admin/vendas">Vendas</a>
        <a class="nav__item <%= active === 'precificacao' ? 'nav__item--active' : '' %>" href="/admin/precificacao">Precificação</a>
        <a class="nav__item <%= active === 'relatorios' ? 'nav__item--active' : '' %>" href="/admin/relatorios">Relatórios</a>

        <hr class="nav__sep" />

        <a class="nav__item" href="/catalogo" target="_blank" rel="noopener">Ver catálogo público</a>
      </nav>

      <% if (typeof sidebarFooter !== "undefined") { %>
        <div class="sidebar__footer">
          <%- sidebarFooter %>
        </div>
      <% } %>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <%- body %>
    </main>
  </div>

  <% if (typeof scripts !== "undefined") { %>
    <%- scripts %>
  <% } %>
</body>
</html>
